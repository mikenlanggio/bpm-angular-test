{"ast":null,"code":"import { is } from '../../util/ModelUtil';\nimport { isExpanded } from '../../util/DiUtil';\nvar LABEL_WIDTH = 30,\n    LABEL_HEIGHT = 30;\n/**\n * BPMN-specific hit zones and interaction fixes.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\n\nexport default function BpmnInteractionEvents(eventBus, interactionEvents) {\n  this._interactionEvents = interactionEvents;\n  var self = this;\n  eventBus.on(['interactionEvents.createHit', 'interactionEvents.updateHit'], function (context) {\n    var element = context.element,\n        gfx = context.gfx;\n\n    if (is(element, 'bpmn:Lane')) {\n      return self.createParticipantHit(element, gfx);\n    } else if (is(element, 'bpmn:Participant')) {\n      if (isExpanded(element)) {\n        return self.createParticipantHit(element, gfx);\n      } else {\n        return self.createDefaultHit(element, gfx);\n      }\n    } else if (is(element, 'bpmn:SubProcess')) {\n      if (isExpanded(element)) {\n        return self.createSubProcessHit(element, gfx);\n      } else {\n        return self.createDefaultHit(element, gfx);\n      }\n    }\n  });\n}\nBpmnInteractionEvents.$inject = ['eventBus', 'interactionEvents'];\n\nBpmnInteractionEvents.prototype.createDefaultHit = function (element, gfx) {\n  this._interactionEvents.removeHits(gfx);\n\n  this._interactionEvents.createDefaultHit(element, gfx); // indicate that we created a hit\n\n\n  return true;\n};\n\nBpmnInteractionEvents.prototype.createParticipantHit = function (element, gfx) {\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx); // add body hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  }); // add outline hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  }); // add label hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: LABEL_WIDTH,\n    height: element.height\n  }); // indicate that we created a hit\n\n\n  return true;\n};\n\nBpmnInteractionEvents.prototype.createSubProcessHit = function (element, gfx) {\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx); // add body hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  }); // add outline hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  }); // add label hit\n\n\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: element.width,\n    height: LABEL_HEIGHT\n  }); // indicate that we created a hit\n\n\n  return true;\n};","map":{"version":3,"names":["is","isExpanded","LABEL_WIDTH","LABEL_HEIGHT","BpmnInteractionEvents","eventBus","interactionEvents","_interactionEvents","self","on","context","element","gfx","createParticipantHit","createDefaultHit","createSubProcessHit","$inject","prototype","removeHits","createBoxHit","width","height"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/features/interaction-events/BpmnInteractionEvents.js"],"sourcesContent":["import { is } from '../../util/ModelUtil';\n\nimport { isExpanded } from '../../util/DiUtil';\n\nvar LABEL_WIDTH = 30,\n    LABEL_HEIGHT = 30;\n\n\n/**\n * BPMN-specific hit zones and interaction fixes.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function BpmnInteractionEvents(eventBus, interactionEvents) {\n\n  this._interactionEvents = interactionEvents;\n\n  var self = this;\n\n  eventBus.on([\n    'interactionEvents.createHit',\n    'interactionEvents.updateHit'\n  ], function(context) {\n    var element = context.element,\n        gfx = context.gfx;\n\n    if (is(element, 'bpmn:Lane')) {\n      return self.createParticipantHit(element, gfx);\n    } else\n\n    if (is(element, 'bpmn:Participant')) {\n      if (isExpanded(element)) {\n        return self.createParticipantHit(element, gfx);\n      } else {\n        return self.createDefaultHit(element, gfx);\n      }\n    } else\n\n    if (is(element, 'bpmn:SubProcess')) {\n      if (isExpanded(element)) {\n        return self.createSubProcessHit(element, gfx);\n      } else {\n        return self.createDefaultHit(element, gfx);\n      }\n    }\n  });\n\n}\n\nBpmnInteractionEvents.$inject = [\n  'eventBus',\n  'interactionEvents'\n];\n\n\nBpmnInteractionEvents.prototype.createDefaultHit = function(element, gfx) {\n  this._interactionEvents.removeHits(gfx);\n\n  this._interactionEvents.createDefaultHit(element, gfx);\n\n  // indicate that we created a hit\n  return true;\n};\n\nBpmnInteractionEvents.prototype.createParticipantHit = function(element, gfx) {\n\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: LABEL_WIDTH,\n    height: element.height\n  });\n\n  // indicate that we created a hit\n  return true;\n};\n\nBpmnInteractionEvents.prototype.createSubProcessHit = function(element, gfx) {\n\n  // remove existing hits\n  this._interactionEvents.removeHits(gfx);\n\n  // add body hit\n  this._interactionEvents.createBoxHit(gfx, 'no-move', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add outline hit\n  this._interactionEvents.createBoxHit(gfx, 'click-stroke', {\n    width: element.width,\n    height: element.height\n  });\n\n  // add label hit\n  this._interactionEvents.createBoxHit(gfx, 'all', {\n    width: element.width,\n    height: LABEL_HEIGHT\n  });\n\n  // indicate that we created a hit\n  return true;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}