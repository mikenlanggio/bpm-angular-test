{"ast":null,"code":"import { assign } from 'min-dash';\nimport ICONS from './AlignElementsIcons';\nvar LOW_PRIORITY = 900;\n/**\n * A provider for align elements context pad button\n */\n\nexport default function AlignElementsContextPadProvider(contextPad, popupMenu, translate, canvas) {\n  contextPad.registerProvider(LOW_PRIORITY, this);\n  this._contextPad = contextPad;\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._canvas = canvas;\n}\nAlignElementsContextPadProvider.$inject = ['contextPad', 'popupMenu', 'translate', 'canvas'];\n\nAlignElementsContextPadProvider.prototype.getMultiElementContextPadEntries = function (elements) {\n  var actions = {};\n\n  if (this._isAllowed(elements)) {\n    assign(actions, this._getEntries(elements));\n  }\n\n  return actions;\n};\n\nAlignElementsContextPadProvider.prototype._isAllowed = function (elements) {\n  return !this._popupMenu.isEmpty(elements, 'align-elements');\n};\n\nAlignElementsContextPadProvider.prototype._getEntries = function (elements) {\n  var self = this;\n  return {\n    'align-elements': {\n      group: 'align-elements',\n      title: self._translate('Align elements'),\n      imageUrl: ICONS['align'],\n      action: {\n        click: function (event, elements) {\n          var position = self._getMenuPosition(elements);\n\n          assign(position, {\n            cursor: {\n              x: event.x,\n              y: event.y\n            }\n          });\n\n          self._popupMenu.open(elements, 'align-elements', position);\n        }\n      }\n    }\n  };\n};\n\nAlignElementsContextPadProvider.prototype._getMenuPosition = function (elements) {\n  var Y_OFFSET = 5;\n\n  var diagramContainer = this._canvas.getContainer(),\n      pad = this._contextPad.getPad(elements).html;\n\n  var diagramRect = diagramContainer.getBoundingClientRect(),\n      padRect = pad.getBoundingClientRect();\n  var top = padRect.top - diagramRect.top;\n  var left = padRect.left - diagramRect.left;\n  var pos = {\n    x: left,\n    y: top + padRect.height + Y_OFFSET\n  };\n  return pos;\n};","map":{"version":3,"names":["assign","ICONS","LOW_PRIORITY","AlignElementsContextPadProvider","contextPad","popupMenu","translate","canvas","registerProvider","_contextPad","_popupMenu","_translate","_canvas","$inject","prototype","getMultiElementContextPadEntries","elements","actions","_isAllowed","_getEntries","isEmpty","self","group","title","imageUrl","action","click","event","position","_getMenuPosition","cursor","x","y","open","Y_OFFSET","diagramContainer","getContainer","pad","getPad","html","diagramRect","getBoundingClientRect","padRect","top","left","pos","height"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/features/align-elements/AlignElementsContextPadProvider.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\n\nimport ICONS from './AlignElementsIcons';\n\nvar LOW_PRIORITY = 900;\n\n/**\n * A provider for align elements context pad button\n */\nexport default function AlignElementsContextPadProvider(contextPad, popupMenu, translate, canvas) {\n\n  contextPad.registerProvider(LOW_PRIORITY, this);\n\n  this._contextPad = contextPad;\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._canvas = canvas;\n}\n\nAlignElementsContextPadProvider.$inject = [\n  'contextPad',\n  'popupMenu',\n  'translate',\n  'canvas'\n];\n\nAlignElementsContextPadProvider.prototype.getMultiElementContextPadEntries = function(elements) {\n  var actions = {};\n\n  if (this._isAllowed(elements)) {\n    assign(actions, this._getEntries(elements));\n  }\n\n  return actions;\n};\n\nAlignElementsContextPadProvider.prototype._isAllowed = function(elements) {\n  return !this._popupMenu.isEmpty(elements, 'align-elements');\n};\n\nAlignElementsContextPadProvider.prototype._getEntries = function(elements) {\n  var self = this;\n\n  return {\n    'align-elements': {\n      group: 'align-elements',\n      title: self._translate('Align elements'),\n      imageUrl: ICONS['align'],\n      action: {\n        click: function(event, elements) {\n          var position = self._getMenuPosition(elements);\n\n          assign(position, {\n            cursor: {\n              x: event.x,\n              y: event.y\n            }\n          });\n\n          self._popupMenu.open(elements, 'align-elements', position);\n        }\n      }\n    }\n  };\n};\n\nAlignElementsContextPadProvider.prototype._getMenuPosition = function(elements) {\n  var Y_OFFSET = 5;\n\n  var diagramContainer = this._canvas.getContainer(),\n      pad = this._contextPad.getPad(elements).html;\n\n  var diagramRect = diagramContainer.getBoundingClientRect(),\n      padRect = pad.getBoundingClientRect();\n\n  var top = padRect.top - diagramRect.top;\n  var left = padRect.left - diagramRect.left;\n\n  var pos = {\n    x: left,\n    y: top + padRect.height + Y_OFFSET\n  };\n\n  return pos;\n};\n"],"mappings":"AAAA,SACEA,MADF,QAEO,UAFP;AAIA,OAAOC,KAAP,MAAkB,sBAAlB;AAEA,IAAIC,YAAY,GAAG,GAAnB;AAEA;AACA;AACA;;AACA,eAAe,SAASC,+BAAT,CAAyCC,UAAzC,EAAqDC,SAArD,EAAgEC,SAAhE,EAA2EC,MAA3E,EAAmF;EAEhGH,UAAU,CAACI,gBAAX,CAA4BN,YAA5B,EAA0C,IAA1C;EAEA,KAAKO,WAAL,GAAmBL,UAAnB;EACA,KAAKM,UAAL,GAAkBL,SAAlB;EACA,KAAKM,UAAL,GAAkBL,SAAlB;EACA,KAAKM,OAAL,GAAeL,MAAf;AACD;AAEDJ,+BAA+B,CAACU,OAAhC,GAA0C,CACxC,YADwC,EAExC,WAFwC,EAGxC,WAHwC,EAIxC,QAJwC,CAA1C;;AAOAV,+BAA+B,CAACW,SAAhC,CAA0CC,gCAA1C,GAA6E,UAASC,QAAT,EAAmB;EAC9F,IAAIC,OAAO,GAAG,EAAd;;EAEA,IAAI,KAAKC,UAAL,CAAgBF,QAAhB,CAAJ,EAA+B;IAC7BhB,MAAM,CAACiB,OAAD,EAAU,KAAKE,WAAL,CAAiBH,QAAjB,CAAV,CAAN;EACD;;EAED,OAAOC,OAAP;AACD,CARD;;AAUAd,+BAA+B,CAACW,SAAhC,CAA0CI,UAA1C,GAAuD,UAASF,QAAT,EAAmB;EACxE,OAAO,CAAC,KAAKN,UAAL,CAAgBU,OAAhB,CAAwBJ,QAAxB,EAAkC,gBAAlC,CAAR;AACD,CAFD;;AAIAb,+BAA+B,CAACW,SAAhC,CAA0CK,WAA1C,GAAwD,UAASH,QAAT,EAAmB;EACzE,IAAIK,IAAI,GAAG,IAAX;EAEA,OAAO;IACL,kBAAkB;MAChBC,KAAK,EAAE,gBADS;MAEhBC,KAAK,EAAEF,IAAI,CAACV,UAAL,CAAgB,gBAAhB,CAFS;MAGhBa,QAAQ,EAAEvB,KAAK,CAAC,OAAD,CAHC;MAIhBwB,MAAM,EAAE;QACNC,KAAK,EAAE,UAASC,KAAT,EAAgBX,QAAhB,EAA0B;UAC/B,IAAIY,QAAQ,GAAGP,IAAI,CAACQ,gBAAL,CAAsBb,QAAtB,CAAf;;UAEAhB,MAAM,CAAC4B,QAAD,EAAW;YACfE,MAAM,EAAE;cACNC,CAAC,EAAEJ,KAAK,CAACI,CADH;cAENC,CAAC,EAAEL,KAAK,CAACK;YAFH;UADO,CAAX,CAAN;;UAOAX,IAAI,CAACX,UAAL,CAAgBuB,IAAhB,CAAqBjB,QAArB,EAA+B,gBAA/B,EAAiDY,QAAjD;QACD;MAZK;IAJQ;EADb,CAAP;AAqBD,CAxBD;;AA0BAzB,+BAA+B,CAACW,SAAhC,CAA0Ce,gBAA1C,GAA6D,UAASb,QAAT,EAAmB;EAC9E,IAAIkB,QAAQ,GAAG,CAAf;;EAEA,IAAIC,gBAAgB,GAAG,KAAKvB,OAAL,CAAawB,YAAb,EAAvB;EAAA,IACIC,GAAG,GAAG,KAAK5B,WAAL,CAAiB6B,MAAjB,CAAwBtB,QAAxB,EAAkCuB,IAD5C;;EAGA,IAAIC,WAAW,GAAGL,gBAAgB,CAACM,qBAAjB,EAAlB;EAAA,IACIC,OAAO,GAAGL,GAAG,CAACI,qBAAJ,EADd;EAGA,IAAIE,GAAG,GAAGD,OAAO,CAACC,GAAR,GAAcH,WAAW,CAACG,GAApC;EACA,IAAIC,IAAI,GAAGF,OAAO,CAACE,IAAR,GAAeJ,WAAW,CAACI,IAAtC;EAEA,IAAIC,GAAG,GAAG;IACRd,CAAC,EAAEa,IADK;IAERZ,CAAC,EAAEW,GAAG,GAAGD,OAAO,CAACI,MAAd,GAAuBZ;EAFlB,CAAV;EAKA,OAAOW,GAAP;AACD,CAlBD"},"metadata":{},"sourceType":"module"}