{"ast":null,"code":"import { assign } from 'min-dash';\nimport { getDi } from '../../util/ModelUtil';\n/**\n * A palette provider for BPMN 2.0 elements.\n */\n\nexport default function PaletteProvider(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate) {\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._spaceTool = spaceTool;\n  this._lassoTool = lassoTool;\n  this._handTool = handTool;\n  this._globalConnect = globalConnect;\n  this._translate = translate;\n  palette.registerProvider(this);\n}\nPaletteProvider.$inject = ['palette', 'create', 'elementFactory', 'spaceTool', 'lassoTool', 'handTool', 'globalConnect', 'translate'];\n\nPaletteProvider.prototype.getPaletteEntries = function (element) {\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      spaceTool = this._spaceTool,\n      lassoTool = this._lassoTool,\n      handTool = this._handTool,\n      globalConnect = this._globalConnect,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({\n        type: type\n      }, options));\n\n      if (options) {\n        var di = getDi(shape);\n        di.isExpanded = options.isExpanded;\n      }\n\n      create.start(event, shape);\n    }\n\n    var shortType = type.replace(/^bpmn:/, '');\n    return {\n      group: group,\n      className: className,\n      title: title || translate('Create {type}', {\n        type: shortType\n      }),\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  function createSubprocess(event) {\n    var subProcess = elementFactory.createShape({\n      type: 'bpmn:SubProcess',\n      x: 0,\n      y: 0,\n      isExpanded: true\n    });\n    var startEvent = elementFactory.createShape({\n      type: 'bpmn:StartEvent',\n      x: 40,\n      y: 82,\n      parent: subProcess\n    });\n    create.start(event, [subProcess, startEvent], {\n      hints: {\n        autoSelect: [subProcess]\n      }\n    });\n  }\n\n  function createParticipant(event) {\n    create.start(event, elementFactory.createParticipantShape());\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-hand-tool',\n      title: translate('Activate the hand tool'),\n      action: {\n        click: function (event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function (event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'space-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-space-tool',\n      title: translate('Activate the create/remove space tool'),\n      action: {\n        click: function (event) {\n          spaceTool.activateSelection(event);\n        }\n      }\n    },\n    'global-connect-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-connection-multi',\n      title: translate('Activate the global connect tool'),\n      action: {\n        click: function (event) {\n          globalConnect.start(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.start-event': createAction('bpmn:StartEvent', 'event', 'bpmn-icon-start-event-none', translate('Create StartEvent')),\n    'create.intermediate-event': createAction('bpmn:IntermediateThrowEvent', 'event', 'bpmn-icon-intermediate-event-none', translate('Create Intermediate/Boundary Event')),\n    'create.end-event': createAction('bpmn:EndEvent', 'event', 'bpmn-icon-end-event-none', translate('Create EndEvent')),\n    'create.exclusive-gateway': createAction('bpmn:ExclusiveGateway', 'gateway', 'bpmn-icon-gateway-none', translate('Create Gateway')),\n    'create.task': createAction('bpmn:Task', 'activity', 'bpmn-icon-task', translate('Create Task')),\n    'create.data-object': createAction('bpmn:DataObjectReference', 'data-object', 'bpmn-icon-data-object', translate('Create DataObjectReference')),\n    'create.data-store': createAction('bpmn:DataStoreReference', 'data-store', 'bpmn-icon-data-store', translate('Create DataStoreReference')),\n    'create.subprocess-expanded': {\n      group: 'activity',\n      className: 'bpmn-icon-subprocess-expanded',\n      title: translate('Create expanded SubProcess'),\n      action: {\n        dragstart: createSubprocess,\n        click: createSubprocess\n      }\n    },\n    'create.participant-expanded': {\n      group: 'collaboration',\n      className: 'bpmn-icon-participant',\n      title: translate('Create Pool/Participant'),\n      action: {\n        dragstart: createParticipant,\n        click: createParticipant\n      }\n    },\n    'create.group': createAction('bpmn:Group', 'artifact', 'bpmn-icon-group', translate('Create Group'))\n  });\n  return actions;\n};","map":{"version":3,"names":["assign","getDi","PaletteProvider","palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate","_palette","_create","_elementFactory","_spaceTool","_lassoTool","_handTool","_globalConnect","_translate","registerProvider","$inject","prototype","getPaletteEntries","element","actions","createAction","type","group","className","title","options","createListener","event","shape","createShape","di","isExpanded","start","shortType","replace","action","dragstart","click","createSubprocess","subProcess","x","y","startEvent","parent","hints","autoSelect","createParticipant","createParticipantShape","activateHand","activateSelection","separator"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/features/palette/PaletteProvider.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\nimport { getDi } from '../../util/ModelUtil';\n\n\n/**\n * A palette provider for BPMN 2.0 elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    spaceTool, lassoTool, handTool,\n    globalConnect, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._spaceTool = spaceTool;\n  this._lassoTool = lassoTool;\n  this._handTool = handTool;\n  this._globalConnect = globalConnect;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'spaceTool',\n  'lassoTool',\n  'handTool',\n  'globalConnect',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      spaceTool = this._spaceTool,\n      lassoTool = this._lassoTool,\n      handTool = this._handTool,\n      globalConnect = this._globalConnect,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      if (options) {\n        var di = getDi(shape);\n        di.isExpanded = options.isExpanded;\n      }\n\n      create.start(event, shape);\n    }\n\n    var shortType = type.replace(/^bpmn:/, '');\n\n    return {\n      group: group,\n      className: className,\n      title: title || translate('Create {type}', { type: shortType }),\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  function createSubprocess(event) {\n    var subProcess = elementFactory.createShape({\n      type: 'bpmn:SubProcess',\n      x: 0,\n      y: 0,\n      isExpanded: true\n    });\n\n    var startEvent = elementFactory.createShape({\n      type: 'bpmn:StartEvent',\n      x: 40,\n      y: 82,\n      parent: subProcess\n    });\n\n    create.start(event, [ subProcess, startEvent ], {\n      hints: {\n        autoSelect: [ subProcess ]\n      }\n    });\n  }\n\n  function createParticipant(event) {\n    create.start(event, elementFactory.createParticipantShape());\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-hand-tool',\n      title: translate('Activate the hand tool'),\n      action: {\n        click: function(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'space-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-space-tool',\n      title: translate('Activate the create/remove space tool'),\n      action: {\n        click: function(event) {\n          spaceTool.activateSelection(event);\n        }\n      }\n    },\n    'global-connect-tool': {\n      group: 'tools',\n      className: 'bpmn-icon-connection-multi',\n      title: translate('Activate the global connect tool'),\n      action: {\n        click: function(event) {\n          globalConnect.start(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.start-event': createAction(\n      'bpmn:StartEvent', 'event', 'bpmn-icon-start-event-none',\n      translate('Create StartEvent')\n    ),\n    'create.intermediate-event': createAction(\n      'bpmn:IntermediateThrowEvent', 'event', 'bpmn-icon-intermediate-event-none',\n      translate('Create Intermediate/Boundary Event')\n    ),\n    'create.end-event': createAction(\n      'bpmn:EndEvent', 'event', 'bpmn-icon-end-event-none',\n      translate('Create EndEvent')\n    ),\n    'create.exclusive-gateway': createAction(\n      'bpmn:ExclusiveGateway', 'gateway', 'bpmn-icon-gateway-none',\n      translate('Create Gateway')\n    ),\n    'create.task': createAction(\n      'bpmn:Task', 'activity', 'bpmn-icon-task',\n      translate('Create Task')\n    ),\n    'create.data-object': createAction(\n      'bpmn:DataObjectReference', 'data-object', 'bpmn-icon-data-object',\n      translate('Create DataObjectReference')\n    ),\n    'create.data-store': createAction(\n      'bpmn:DataStoreReference', 'data-store', 'bpmn-icon-data-store',\n      translate('Create DataStoreReference')\n    ),\n    'create.subprocess-expanded': {\n      group: 'activity',\n      className: 'bpmn-icon-subprocess-expanded',\n      title: translate('Create expanded SubProcess'),\n      action: {\n        dragstart: createSubprocess,\n        click: createSubprocess\n      }\n    },\n    'create.participant-expanded': {\n      group: 'collaboration',\n      className: 'bpmn-icon-participant',\n      title: translate('Create Pool/Participant'),\n      action: {\n        dragstart: createParticipant,\n        click: createParticipant\n      }\n    },\n    'create.group': createAction(\n      'bpmn:Group', 'artifact', 'bpmn-icon-group',\n      translate('Create Group')\n    ),\n  });\n\n  return actions;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}