{"ast":null,"code":"var HIGH_PRIORITY = 2000;\n/**\r\n * Integrates space tool with grid snapping.\r\n */\n\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\n  eventBus.on(['spaceTool.move', 'spaceTool.end'], HIGH_PRIORITY, function (event) {\n    var context = event.context;\n\n    if (!context.initialized) {\n      return;\n    }\n\n    var axis = context.axis;\n    var snapped;\n\n    if (axis === 'x') {\n      // snap delta x to multiple of 10\n      snapped = gridSnapping.snapValue(event.dx);\n      event.x = event.x + snapped - event.dx;\n      event.dx = snapped;\n    } else {\n      // snap delta y to multiple of 10\n      snapped = gridSnapping.snapValue(event.dy);\n      event.y = event.y + snapped - event.dy;\n      event.dy = snapped;\n    }\n  });\n}\nSpaceToolBehavior.$inject = ['eventBus', 'gridSnapping'];","map":{"version":3,"names":["HIGH_PRIORITY","SpaceToolBehavior","eventBus","gridSnapping","on","event","context","initialized","axis","snapped","snapValue","dx","x","dy","y","$inject"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js"],"sourcesContent":["var HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n */\r\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];"],"mappings":"AAAA,IAAIA,aAAa,GAAG,IAApB;AAEA;AACA;AACA;;AACA,eAAe,SAASC,iBAAT,CAA2BC,QAA3B,EAAqCC,YAArC,EAAmD;EAChED,QAAQ,CAACE,EAAT,CAAY,CACV,gBADU,EAEV,eAFU,CAAZ,EAGGJ,aAHH,EAGkB,UAASK,KAAT,EAAgB;IAChC,IAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;;IAEA,IAAI,CAACA,OAAO,CAACC,WAAb,EAA0B;MACxB;IACD;;IAED,IAAIC,IAAI,GAAGF,OAAO,CAACE,IAAnB;IAEA,IAAIC,OAAJ;;IAEA,IAAID,IAAI,KAAK,GAAb,EAAkB;MAEhB;MACAC,OAAO,GAAGN,YAAY,CAACO,SAAb,CAAuBL,KAAK,CAACM,EAA7B,CAAV;MAEAN,KAAK,CAACO,CAAN,GAAUP,KAAK,CAACO,CAAN,GAAUH,OAAV,GAAoBJ,KAAK,CAACM,EAApC;MACAN,KAAK,CAACM,EAAN,GAAWF,OAAX;IACD,CAPD,MAOO;MAEL;MACAA,OAAO,GAAGN,YAAY,CAACO,SAAb,CAAuBL,KAAK,CAACQ,EAA7B,CAAV;MAEAR,KAAK,CAACS,CAAN,GAAUT,KAAK,CAACS,CAAN,GAAUL,OAAV,GAAoBJ,KAAK,CAACQ,EAApC;MACAR,KAAK,CAACQ,EAAN,GAAWJ,OAAX;IACD;EACF,CA7BD;AA8BD;AAEDR,iBAAiB,CAACc,OAAlB,GAA4B,CAC1B,UAD0B,EAE1B,cAF0B,CAA5B"},"metadata":{},"sourceType":"module"}