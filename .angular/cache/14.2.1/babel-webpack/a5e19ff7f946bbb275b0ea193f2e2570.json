{"ast":null,"code":"import { flatten, forEach, filter, find, groupBy, map, matchPattern, size } from 'min-dash';\nimport { selfAndAllChildren } from '../../util/Elements';\nimport { append as svgAppend, attr as svgAttr, create as svgCreate, remove as svgRemove } from 'tiny-svg';\nimport { translate } from '../../util/SvgTransformUtil';\nvar LOW_PRIORITY = 499;\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\n\nexport default function MovePreview(eventBus, canvas, styles, previewSupport) {\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n    var filteredElements = removeEdges(elements);\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n    var allConnections = map(allShapes, function (shape) {\n      return (shape.incoming || []).concat(shape.outgoing || []);\n    });\n    return flatten(allShapes.concat(allConnections));\n  }\n  /**\n   * Sets drop marker on an element.\n   */\n\n\n  function setMarker(element, marker) {\n    [MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT].forEach(function (m) {\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n\n\n  function makeDraggable(context, element, addMarker) {\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [element];\n    }\n  } // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n\n\n  eventBus.on('shape.move.start', LOW_PRIORITY, function (event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n      svgAttr(dragGroup, styles.cls('djs-drag-group', ['no-events']));\n      var activeLayer = canvas.getActiveLayer();\n      svgAppend(activeLayer, dragGroup);\n      context.dragGroup = dragGroup;\n    } // add previews\n\n\n    visuallyDraggedShapes.forEach(function (shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    }); // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([allDraggedElements, getAllDraggedElements(dragShapes)]);\n    } // add dragging marker\n\n\n    forEach(allDraggedElements, function (e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n    context.allDraggedElements = allDraggedElements; // determine, if any of the dragged elements have different parents\n\n    context.differentParents = haveDifferentParents(dragShapes);\n  }); // update previews\n\n  eventBus.on('shape.move.move', LOW_PRIORITY, function (event) {\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && target && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n  eventBus.on(['shape.move.out', 'shape.move.cleanup'], function (event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  }); // remove previews\n\n  eventBus.on('shape.move.cleanup', function (event) {\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup; // remove dragging marker\n\n    forEach(allDraggedElements, function (e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  }); // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n\n  this.makeDraggable = makeDraggable;\n}\nMovePreview.$inject = ['eventBus', 'canvas', 'styles', 'previewSupport']; // helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\n\nfunction removeEdges(elements) {\n  var filteredElements = filter(elements, function (element) {\n    if (!isConnection(element)) {\n      return true;\n    } else {\n      return find(elements, matchPattern({\n        id: element.source.id\n      })) && find(elements, matchPattern({\n        id: element.target.id\n      }));\n    }\n  });\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function (e) {\n    return e.parent && e.parent.id;\n  })) !== 1;\n}\n/**\n * Checks if an element is a connection.\n */\n\n\nfunction isConnection(element) {\n  return element.waypoints;\n}","map":{"version":3,"names":["flatten","forEach","filter","find","groupBy","map","matchPattern","size","selfAndAllChildren","append","svgAppend","attr","svgAttr","create","svgCreate","remove","svgRemove","translate","LOW_PRIORITY","MARKER_DRAGGING","MARKER_OK","MARKER_NOT_OK","MARKER_NEW_PARENT","MARKER_ATTACH","MovePreview","eventBus","canvas","styles","previewSupport","getVisualDragShapes","shapes","elements","getAllDraggedElements","filteredElements","removeEdges","allShapes","allConnections","shape","incoming","concat","outgoing","setMarker","element","marker","m","addMarker","removeMarker","makeDraggable","context","addDragger","dragGroup","allDraggedElements","push","on","event","dragShapes","visuallyDraggedShapes","cls","activeLayer","getActiveLayer","e","differentParents","haveDifferentParents","target","parent","canExecute","id","dx","dy","$inject","isConnection","source","waypoints"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/diagram-js/lib/features/move/MovePreview.js"],"sourcesContent":["import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  map,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = map(allShapes, function(shape) {\n      return (shape.incoming || []).concat(shape.outgoing || []);\n    });\n\n    return flatten(allShapes.concat(allConnections));\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var activeLayer = canvas.getActiveLayer();\n\n      svgAppend(activeLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && target && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n\n/**\n * Checks if an element is a connection.\n */\nfunction isConnection(element) {\n  return element.waypoints;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}