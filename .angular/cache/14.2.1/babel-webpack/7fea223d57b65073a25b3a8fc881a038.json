{"ast":null,"code":"import { assign, forEach, isObject, omit } from 'min-dash';\nimport inherits from 'inherits-browser';\nimport { getBusinessObject, getDi, is } from '../../util/ModelUtil';\nimport { isAny } from '../modeling/util/ModelingUtil';\nimport { isExpanded } from '../../util/DiUtil';\nimport BaseElementFactory from 'diagram-js/lib/core/ElementFactory';\nimport { DEFAULT_LABEL_SIZE } from '../../util/LabelUtil';\nimport { ensureCompatDiRef } from '../../util/CompatibilityUtil';\n/**\n * A bpmn-aware factory for diagram-js shapes\n */\n\nexport default function ElementFactory(bpmnFactory, moddle, translate) {\n  BaseElementFactory.call(this);\n  this._bpmnFactory = bpmnFactory;\n  this._moddle = moddle;\n  this._translate = translate;\n}\ninherits(ElementFactory, BaseElementFactory);\nElementFactory.$inject = ['bpmnFactory', 'moddle', 'translate'];\nElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;\n\nElementFactory.prototype.create = function (elementType, attrs) {\n  // no special magic for labels,\n  // we assume their businessObjects have already been created\n  // and wired via attrs\n  if (elementType === 'label') {\n    var di = attrs.di || this._bpmnFactory.createDiLabel();\n\n    return this.baseCreate(elementType, assign({\n      type: 'label',\n      di: di\n    }, DEFAULT_LABEL_SIZE, attrs));\n  }\n\n  return this.createBpmnElement(elementType, attrs);\n};\n\nElementFactory.prototype.createBpmnElement = function (elementType, attrs) {\n  var size,\n      translate = this._translate;\n  attrs = assign({}, attrs || {});\n  var businessObject = attrs.businessObject,\n      di = attrs.di;\n\n  if (!businessObject) {\n    if (!attrs.type) {\n      throw new Error(translate('no shape type specified'));\n    }\n\n    businessObject = this._bpmnFactory.create(attrs.type);\n    ensureCompatDiRef(businessObject);\n  }\n\n  if (!isModdleDi(di)) {\n    var diAttrs = assign({}, di || {}, {\n      id: businessObject.id + '_di'\n    });\n\n    if (elementType === 'root') {\n      di = this._bpmnFactory.createDiPlane(businessObject, diAttrs);\n    } else if (elementType === 'connection') {\n      di = this._bpmnFactory.createDiEdge(businessObject, diAttrs);\n    } else {\n      di = this._bpmnFactory.createDiShape(businessObject, diAttrs);\n    }\n  }\n\n  if (is(businessObject, 'bpmn:Group')) {\n    attrs = assign({\n      isFrame: true\n    }, attrs);\n  }\n\n  attrs = applyAttributes(businessObject, attrs, ['processRef', 'isInterrupting', 'associationDirection', 'isForCompensation']);\n\n  if (attrs.isExpanded) {\n    attrs = applyAttribute(di, attrs, 'isExpanded');\n  }\n\n  if (is(businessObject, 'bpmn:SubProcess')) {\n    attrs.collapsed = !isExpanded(businessObject, di);\n  }\n\n  if (is(businessObject, 'bpmn:ExclusiveGateway')) {\n    di.isMarkerVisible = true;\n  }\n\n  var eventDefinitions, newEventDefinition;\n\n  if (attrs.eventDefinitionType) {\n    eventDefinitions = businessObject.get('eventDefinitions') || [];\n    newEventDefinition = this._bpmnFactory.create(attrs.eventDefinitionType, attrs.eventDefinitionAttrs);\n\n    if (attrs.eventDefinitionType === 'bpmn:ConditionalEventDefinition') {\n      newEventDefinition.condition = this._bpmnFactory.create('bpmn:FormalExpression');\n    }\n\n    eventDefinitions.push(newEventDefinition);\n    newEventDefinition.$parent = businessObject;\n    businessObject.eventDefinitions = eventDefinitions;\n    delete attrs.eventDefinitionType;\n  }\n\n  size = this.getDefaultSize(businessObject, di);\n  attrs = assign({\n    id: businessObject.id\n  }, size, attrs, {\n    businessObject: businessObject,\n    di: di\n  });\n  return this.baseCreate(elementType, attrs);\n};\n\nElementFactory.prototype.getDefaultSize = function (element, di) {\n  var bo = getBusinessObject(element);\n  di = di || getDi(element);\n\n  if (is(bo, 'bpmn:SubProcess')) {\n    if (isExpanded(bo, di)) {\n      return {\n        width: 350,\n        height: 200\n      };\n    } else {\n      return {\n        width: 100,\n        height: 80\n      };\n    }\n  }\n\n  if (is(bo, 'bpmn:Task')) {\n    return {\n      width: 100,\n      height: 80\n    };\n  }\n\n  if (is(bo, 'bpmn:Gateway')) {\n    return {\n      width: 50,\n      height: 50\n    };\n  }\n\n  if (is(bo, 'bpmn:Event')) {\n    return {\n      width: 36,\n      height: 36\n    };\n  }\n\n  if (is(bo, 'bpmn:Participant')) {\n    if (isExpanded(bo, di)) {\n      return {\n        width: 600,\n        height: 250\n      };\n    } else {\n      return {\n        width: 400,\n        height: 60\n      };\n    }\n  }\n\n  if (is(bo, 'bpmn:Lane')) {\n    return {\n      width: 400,\n      height: 100\n    };\n  }\n\n  if (is(bo, 'bpmn:DataObjectReference')) {\n    return {\n      width: 36,\n      height: 50\n    };\n  }\n\n  if (is(bo, 'bpmn:DataStoreReference')) {\n    return {\n      width: 50,\n      height: 50\n    };\n  }\n\n  if (is(bo, 'bpmn:TextAnnotation')) {\n    return {\n      width: 100,\n      height: 30\n    };\n  }\n\n  if (is(bo, 'bpmn:Group')) {\n    return {\n      width: 300,\n      height: 300\n    };\n  }\n\n  return {\n    width: 100,\n    height: 80\n  };\n};\n/**\n * Create participant.\n *\n * @param {boolean|Object} [attrs] attrs\n *\n * @returns {djs.model.Shape}\n */\n\n\nElementFactory.prototype.createParticipantShape = function (attrs) {\n  if (!isObject(attrs)) {\n    attrs = {\n      isExpanded: attrs\n    };\n  }\n\n  attrs = assign({\n    type: 'bpmn:Participant'\n  }, attrs || {}); // participants are expanded by default\n\n  if (attrs.isExpanded !== false) {\n    attrs.processRef = this._bpmnFactory.create('bpmn:Process');\n  }\n\n  return this.createShape(attrs);\n}; // helpers //////////////////////\n\n/**\n * Apply attributes from a map to the given element,\n * remove attribute from the map on application.\n *\n * @param {Base} element\n * @param {Object} attrs (in/out map of attributes)\n * @param {Array<string>} attributeNames name of attributes to apply\n *\n * @return {Object} changed attrs\n */\n\n\nfunction applyAttributes(element, attrs, attributeNames) {\n  forEach(attributeNames, function (property) {\n    attrs = applyAttribute(element, attrs, property);\n  });\n  return attrs;\n}\n/**\n * Apply named property to element and drain it from the attrs\n * collection.\n *\n * @param {Base} element\n * @param {Object} attrs (in/out map of attributes)\n * @param {string} attributeName to apply\n *\n * @return {Object} changed attrs\n */\n\n\nfunction applyAttribute(element, attrs, attributeName) {\n  if (attrs[attributeName] === undefined) {\n    return attrs;\n  }\n\n  element[attributeName] = attrs[attributeName];\n  return omit(attrs, [attributeName]);\n}\n\nfunction isModdleDi(element) {\n  return isAny(element, ['bpmndi:BPMNShape', 'bpmndi:BPMNEdge', 'bpmndi:BPMNDiagram', 'bpmndi:BPMNPlane']);\n}","map":{"version":3,"names":["assign","forEach","isObject","omit","inherits","getBusinessObject","getDi","is","isAny","isExpanded","BaseElementFactory","DEFAULT_LABEL_SIZE","ensureCompatDiRef","ElementFactory","bpmnFactory","moddle","translate","call","_bpmnFactory","_moddle","_translate","$inject","prototype","baseCreate","create","elementType","attrs","di","createDiLabel","type","createBpmnElement","size","businessObject","Error","isModdleDi","diAttrs","id","createDiPlane","createDiEdge","createDiShape","isFrame","applyAttributes","applyAttribute","collapsed","isMarkerVisible","eventDefinitions","newEventDefinition","eventDefinitionType","get","eventDefinitionAttrs","condition","push","$parent","getDefaultSize","element","bo","width","height","createParticipantShape","processRef","createShape","attributeNames","property","attributeName","undefined"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/features/modeling/ElementFactory.js"],"sourcesContent":["import {\n  assign,\n  forEach,\n  isObject,\n  omit\n} from 'min-dash';\n\nimport inherits from 'inherits-browser';\n\nimport {\n  getBusinessObject,\n  getDi,\n  is\n} from '../../util/ModelUtil';\n\nimport {\n  isAny\n} from '../modeling/util/ModelingUtil';\n\nimport {\n  isExpanded\n} from '../../util/DiUtil';\n\nimport BaseElementFactory from 'diagram-js/lib/core/ElementFactory';\n\nimport {\n  DEFAULT_LABEL_SIZE\n} from '../../util/LabelUtil';\n\nimport {\n  ensureCompatDiRef\n} from '../../util/CompatibilityUtil';\n\n\n/**\n * A bpmn-aware factory for diagram-js shapes\n */\nexport default function ElementFactory(bpmnFactory, moddle, translate) {\n  BaseElementFactory.call(this);\n\n  this._bpmnFactory = bpmnFactory;\n  this._moddle = moddle;\n  this._translate = translate;\n}\n\ninherits(ElementFactory, BaseElementFactory);\n\nElementFactory.$inject = [\n  'bpmnFactory',\n  'moddle',\n  'translate'\n];\n\nElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;\n\nElementFactory.prototype.create = function(elementType, attrs) {\n\n  // no special magic for labels,\n  // we assume their businessObjects have already been created\n  // and wired via attrs\n  if (elementType === 'label') {\n    var di = attrs.di || this._bpmnFactory.createDiLabel();\n    return this.baseCreate(elementType, assign({ type: 'label', di: di }, DEFAULT_LABEL_SIZE, attrs));\n  }\n\n  return this.createBpmnElement(elementType, attrs);\n};\n\nElementFactory.prototype.createBpmnElement = function(elementType, attrs) {\n  var size,\n      translate = this._translate;\n\n  attrs = assign({}, attrs || {});\n\n  var businessObject = attrs.businessObject,\n      di = attrs.di;\n\n  if (!businessObject) {\n    if (!attrs.type) {\n      throw new Error(translate('no shape type specified'));\n    }\n\n    businessObject = this._bpmnFactory.create(attrs.type);\n\n    ensureCompatDiRef(businessObject);\n  }\n\n  if (!isModdleDi(di)) {\n    var diAttrs = assign(\n      {},\n      di || {},\n      { id: businessObject.id + '_di' }\n    );\n\n    if (elementType === 'root') {\n      di = this._bpmnFactory.createDiPlane(businessObject, diAttrs);\n    } else\n    if (elementType === 'connection') {\n      di = this._bpmnFactory.createDiEdge(businessObject, diAttrs);\n    } else {\n      di = this._bpmnFactory.createDiShape(businessObject, diAttrs);\n    }\n  }\n\n  if (is(businessObject, 'bpmn:Group')) {\n    attrs = assign({\n      isFrame: true\n    }, attrs);\n  }\n\n  attrs = applyAttributes(businessObject, attrs, [\n    'processRef',\n    'isInterrupting',\n    'associationDirection',\n    'isForCompensation'\n  ]);\n\n  if (attrs.isExpanded) {\n    attrs = applyAttribute(di, attrs, 'isExpanded');\n  }\n\n  if (is(businessObject, 'bpmn:SubProcess')) {\n    attrs.collapsed = !isExpanded(businessObject, di);\n  }\n\n  if (is(businessObject, 'bpmn:ExclusiveGateway')) {\n    di.isMarkerVisible = true;\n  }\n\n  var eventDefinitions,\n      newEventDefinition;\n\n  if (attrs.eventDefinitionType) {\n    eventDefinitions = businessObject.get('eventDefinitions') || [];\n    newEventDefinition = this._bpmnFactory.create(attrs.eventDefinitionType, attrs.eventDefinitionAttrs);\n\n    if (attrs.eventDefinitionType === 'bpmn:ConditionalEventDefinition') {\n      newEventDefinition.condition = this._bpmnFactory.create('bpmn:FormalExpression');\n    }\n\n    eventDefinitions.push(newEventDefinition);\n\n    newEventDefinition.$parent = businessObject;\n    businessObject.eventDefinitions = eventDefinitions;\n\n    delete attrs.eventDefinitionType;\n  }\n\n  size = this.getDefaultSize(businessObject, di);\n\n  attrs = assign({\n    id: businessObject.id\n  }, size, attrs, {\n    businessObject: businessObject,\n    di: di\n  });\n\n  return this.baseCreate(elementType, attrs);\n};\n\n\nElementFactory.prototype.getDefaultSize = function(element, di) {\n\n  var bo = getBusinessObject(element);\n  di = di || getDi(element);\n\n  if (is(bo, 'bpmn:SubProcess')) {\n    if (isExpanded(bo, di)) {\n      return { width: 350, height: 200 };\n    } else {\n      return { width: 100, height: 80 };\n    }\n  }\n\n  if (is(bo, 'bpmn:Task')) {\n    return { width: 100, height: 80 };\n  }\n\n  if (is(bo, 'bpmn:Gateway')) {\n    return { width: 50, height: 50 };\n  }\n\n  if (is(bo, 'bpmn:Event')) {\n    return { width: 36, height: 36 };\n  }\n\n  if (is(bo, 'bpmn:Participant')) {\n    if (isExpanded(bo, di)) {\n      return { width: 600, height: 250 };\n    } else {\n      return { width: 400, height: 60 };\n    }\n  }\n\n  if (is(bo, 'bpmn:Lane')) {\n    return { width: 400, height: 100 };\n  }\n\n  if (is(bo, 'bpmn:DataObjectReference')) {\n    return { width: 36, height: 50 };\n  }\n\n  if (is(bo, 'bpmn:DataStoreReference')) {\n    return { width: 50, height: 50 };\n  }\n\n  if (is(bo, 'bpmn:TextAnnotation')) {\n    return { width: 100, height: 30 };\n  }\n\n  if (is(bo, 'bpmn:Group')) {\n    return { width: 300, height: 300 };\n  }\n\n  return { width: 100, height: 80 };\n};\n\n\n/**\n * Create participant.\n *\n * @param {boolean|Object} [attrs] attrs\n *\n * @returns {djs.model.Shape}\n */\nElementFactory.prototype.createParticipantShape = function(attrs) {\n\n  if (!isObject(attrs)) {\n    attrs = { isExpanded: attrs };\n  }\n\n  attrs = assign({ type: 'bpmn:Participant' }, attrs || {});\n\n  // participants are expanded by default\n  if (attrs.isExpanded !== false) {\n    attrs.processRef = this._bpmnFactory.create('bpmn:Process');\n  }\n\n  return this.createShape(attrs);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Apply attributes from a map to the given element,\n * remove attribute from the map on application.\n *\n * @param {Base} element\n * @param {Object} attrs (in/out map of attributes)\n * @param {Array<string>} attributeNames name of attributes to apply\n *\n * @return {Object} changed attrs\n */\nfunction applyAttributes(element, attrs, attributeNames) {\n\n  forEach(attributeNames, function(property) {\n    attrs = applyAttribute(element, attrs, property);\n  });\n\n  return attrs;\n}\n\n/**\n * Apply named property to element and drain it from the attrs\n * collection.\n *\n * @param {Base} element\n * @param {Object} attrs (in/out map of attributes)\n * @param {string} attributeName to apply\n *\n * @return {Object} changed attrs\n */\nfunction applyAttribute(element, attrs, attributeName) {\n  if (attrs[attributeName] === undefined) {\n    return attrs;\n  }\n\n  element[attributeName] = attrs[attributeName];\n\n  return omit(attrs, [ attributeName ]);\n}\n\n\nfunction isModdleDi(element) {\n  return isAny(element, [\n    'bpmndi:BPMNShape',\n    'bpmndi:BPMNEdge',\n    'bpmndi:BPMNDiagram',\n    'bpmndi:BPMNPlane',\n  ]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}