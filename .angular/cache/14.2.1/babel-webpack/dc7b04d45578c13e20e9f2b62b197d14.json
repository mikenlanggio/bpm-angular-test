{"ast":null,"code":"import { isString, assign, forEach } from 'min-dash';\nimport { assignStyle, domify, attr as domAttr, classes as domClasses, remove as domRemove, delegate as domDelegate } from 'min-dom';\nimport Ids from '../../util/IdGenerator'; // document wide unique tooltip ids\n\nvar ids = new Ids('tt');\n\nfunction createRoot(parentNode) {\n  var root = domify('<div class=\"djs-tooltip-container\" />');\n  assignStyle(root, {\n    position: 'absolute',\n    width: '0',\n    height: '0'\n  });\n  parentNode.insertBefore(root, parentNode.firstChild);\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  assignStyle(el, {\n    left: x + 'px',\n    top: y + 'px'\n  });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nvar tooltipClass = 'djs-tooltip',\n    tooltipSelector = '.' + tooltipClass;\n/**\n * A service that allows users to render tool tips on the diagram.\n *\n * The tooltip service will take care of updating the tooltip positioning\n * during navigation + zooming.\n *\n * @example\n *\n * ```javascript\n *\n * // add a pink badge on the top left of the shape\n * tooltips.add({\n *   position: {\n *     x: 50,\n *     y: 100\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or with optional life span\n * tooltips.add({\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>',\n *   ttl: 2000\n * });\n *\n * // remove a tool tip\n * var id = tooltips.add(...);\n * tooltips.remove(id);\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\n\nexport default function Tooltips(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._ids = ids;\n  this._tooltipDefaults = {\n    show: {\n      minZoom: 0.7,\n      maxZoom: 5.0\n    }\n  };\n  /**\n   * Mapping tooltipId -> tooltip\n   */\n\n  this._tooltips = {}; // root html element for all tooltips\n\n  this._tooltipRoot = createRoot(canvas.getContainer());\n  var self = this;\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseover', function (event) {\n    self.trigger('mouseover', event);\n  });\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseout', function (event) {\n    self.trigger('mouseout', event);\n  });\n\n  this._init();\n}\nTooltips.$inject = ['eventBus', 'canvas'];\n/**\n * Adds a HTML tooltip to the diagram\n *\n * @param {Object}               tooltip   the tooltip configuration\n *\n * @param {string|DOMElement}    tooltip.html                 html element to use as an tooltip\n * @param {Object}               [tooltip.show]               show configuration\n * @param {number}               [tooltip.show.minZoom]       minimal zoom level to show the tooltip\n * @param {number}               [tooltip.show.maxZoom]       maximum zoom level to show the tooltip\n * @param {Object}               tooltip.position             where to attach the tooltip\n * @param {number}               [tooltip.position.left]      relative to element bbox left attachment\n * @param {number}               [tooltip.position.top]       relative to element bbox top attachment\n * @param {number}               [tooltip.position.bottom]    relative to element bbox bottom attachment\n * @param {number}               [tooltip.position.right]     relative to element bbox right attachment\n * @param {number}               [tooltip.timeout=-1]\n *\n * @return {string}              id that may be used to reference the tooltip for update or removal\n */\n\nTooltips.prototype.add = function (tooltip) {\n  if (!tooltip.position) {\n    throw new Error('must specifiy tooltip position');\n  }\n\n  if (!tooltip.html) {\n    throw new Error('must specifiy tooltip html');\n  }\n\n  var id = this._ids.next();\n\n  tooltip = assign({}, this._tooltipDefaults, tooltip, {\n    id: id\n  });\n\n  this._addTooltip(tooltip);\n\n  if (tooltip.timeout) {\n    this.setTimeout(tooltip);\n  }\n\n  return id;\n};\n\nTooltips.prototype.trigger = function (action, event) {\n  var node = event.delegateTarget || event.target;\n  var tooltip = this.get(domAttr(node, 'data-tooltip-id'));\n\n  if (!tooltip) {\n    return;\n  }\n\n  if (action === 'mouseover' && tooltip.timeout) {\n    this.clearTimeout(tooltip);\n  }\n\n  if (action === 'mouseout' && tooltip.timeout) {\n    // cut timeout after mouse out\n    tooltip.timeout = 1000;\n    this.setTimeout(tooltip);\n  }\n};\n/**\n * Get a tooltip with the given id\n *\n * @param {string} id\n */\n\n\nTooltips.prototype.get = function (id) {\n  if (typeof id !== 'string') {\n    id = id.id;\n  }\n\n  return this._tooltips[id];\n};\n\nTooltips.prototype.clearTimeout = function (tooltip) {\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  var removeTimer = tooltip.removeTimer;\n\n  if (removeTimer) {\n    clearTimeout(removeTimer);\n    tooltip.removeTimer = null;\n  }\n};\n\nTooltips.prototype.setTimeout = function (tooltip) {\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  this.clearTimeout(tooltip);\n  var self = this;\n  tooltip.removeTimer = setTimeout(function () {\n    self.remove(tooltip);\n  }, tooltip.timeout);\n};\n/**\n * Remove an tooltip with the given id\n *\n * @param {string} id\n */\n\n\nTooltips.prototype.remove = function (id) {\n  var tooltip = this.get(id);\n\n  if (tooltip) {\n    domRemove(tooltip.html);\n    domRemove(tooltip.htmlContainer);\n    delete tooltip.htmlContainer;\n    delete this._tooltips[tooltip.id];\n  }\n};\n\nTooltips.prototype.show = function () {\n  setVisible(this._tooltipRoot);\n};\n\nTooltips.prototype.hide = function () {\n  setVisible(this._tooltipRoot, false);\n};\n\nTooltips.prototype._updateRoot = function (viewbox) {\n  var a = viewbox.scale || 1;\n  var d = viewbox.scale || 1;\n  var matrix = 'matrix(' + a + ',0,0,' + d + ',' + -1 * viewbox.x * a + ',' + -1 * viewbox.y * d + ')';\n  this._tooltipRoot.style.transform = matrix;\n  this._tooltipRoot.style['-ms-transform'] = matrix;\n};\n\nTooltips.prototype._addTooltip = function (tooltip) {\n  var id = tooltip.id,\n      html = tooltip.html,\n      htmlContainer,\n      tooltipRoot = this._tooltipRoot; // unwrap jquery (for those who need it)\n\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  } // create proper html elements from\n  // tooltip HTML strings\n\n\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  htmlContainer = domify('<div data-tooltip-id=\"' + id + '\" class=\"' + tooltipClass + '\">');\n  assignStyle(htmlContainer, {\n    position: 'absolute'\n  });\n  htmlContainer.appendChild(html);\n\n  if (tooltip.type) {\n    domClasses(htmlContainer).add('djs-tooltip-' + tooltip.type);\n  }\n\n  if (tooltip.className) {\n    domClasses(htmlContainer).add(tooltip.className);\n  }\n\n  tooltip.htmlContainer = htmlContainer;\n  tooltipRoot.appendChild(htmlContainer);\n  this._tooltips[id] = tooltip;\n\n  this._updateTooltip(tooltip);\n};\n\nTooltips.prototype._updateTooltip = function (tooltip) {\n  var position = tooltip.position,\n      htmlContainer = tooltip.htmlContainer; // update overlay html based on tooltip x, y\n\n  setPosition(htmlContainer, position.x, position.y);\n};\n\nTooltips.prototype._updateTooltipVisibilty = function (viewbox) {\n  forEach(this._tooltips, function (tooltip) {\n    var show = tooltip.show,\n        htmlContainer = tooltip.htmlContainer,\n        visible = true;\n\n    if (show) {\n      if (show.minZoom > viewbox.scale || show.maxZoom < viewbox.scale) {\n        visible = false;\n      }\n\n      setVisible(htmlContainer, visible);\n    }\n  });\n};\n\nTooltips.prototype._init = function () {\n  var self = this; // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n\n    self._updateTooltipVisibilty(viewbox);\n\n    self.show();\n  }\n\n  this._eventBus.on('canvas.viewbox.changing', function (event) {\n    self.hide();\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function (event) {\n    updateViewbox(event.viewbox);\n  });\n};","map":{"version":3,"names":["isString","assign","forEach","assignStyle","domify","attr","domAttr","classes","domClasses","remove","domRemove","delegate","domDelegate","Ids","ids","createRoot","parentNode","root","position","width","height","insertBefore","firstChild","setPosition","el","x","y","left","top","setVisible","visible","style","display","tooltipClass","tooltipSelector","Tooltips","eventBus","canvas","_eventBus","_canvas","_ids","_tooltipDefaults","show","minZoom","maxZoom","_tooltips","_tooltipRoot","getContainer","self","bind","event","stopPropagation","trigger","_init","$inject","prototype","add","tooltip","Error","html","id","next","_addTooltip","timeout","setTimeout","action","node","delegateTarget","target","get","clearTimeout","removeTimer","htmlContainer","hide","_updateRoot","viewbox","a","scale","d","matrix","transform","tooltipRoot","constructor","jquery","appendChild","type","className","_updateTooltip","_updateTooltipVisibilty","updateViewbox","on"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/diagram-js/lib/features/tooltips/Tooltips.js"],"sourcesContent":["import {\n  isString,\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  assignStyle,\n  domify,\n  attr as domAttr,\n  classes as domClasses,\n  remove as domRemove,\n  delegate as domDelegate\n} from 'min-dom';\n\nimport Ids from '../../util/IdGenerator';\n\n// document wide unique tooltip ids\nvar ids = new Ids('tt');\n\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-tooltip-container\" />'\n  );\n\n  assignStyle(root, {\n    position: 'absolute',\n    width: '0',\n    height: '0'\n  });\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\n\nfunction setPosition(el, x, y) {\n  assignStyle(el, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\n\nvar tooltipClass = 'djs-tooltip',\n    tooltipSelector = '.' + tooltipClass;\n\n/**\n * A service that allows users to render tool tips on the diagram.\n *\n * The tooltip service will take care of updating the tooltip positioning\n * during navigation + zooming.\n *\n * @example\n *\n * ```javascript\n *\n * // add a pink badge on the top left of the shape\n * tooltips.add({\n *   position: {\n *     x: 50,\n *     y: 100\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or with optional life span\n * tooltips.add({\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>',\n *   ttl: 2000\n * });\n *\n * // remove a tool tip\n * var id = tooltips.add(...);\n * tooltips.remove(id);\n * ```\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Tooltips(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  this._ids = ids;\n\n  this._tooltipDefaults = {\n    show: {\n      minZoom: 0.7,\n      maxZoom: 5.0\n    }\n  };\n\n  /**\n   * Mapping tooltipId -> tooltip\n   */\n  this._tooltips = {};\n\n  // root html element for all tooltips\n  this._tooltipRoot = createRoot(canvas.getContainer());\n\n\n  var self = this;\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseover', function(event) {\n    self.trigger('mouseover', event);\n  });\n\n  domDelegate.bind(this._tooltipRoot, tooltipSelector, 'mouseout', function(event) {\n    self.trigger('mouseout', event);\n  });\n\n  this._init();\n}\n\n\nTooltips.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Adds a HTML tooltip to the diagram\n *\n * @param {Object}               tooltip   the tooltip configuration\n *\n * @param {string|DOMElement}    tooltip.html                 html element to use as an tooltip\n * @param {Object}               [tooltip.show]               show configuration\n * @param {number}               [tooltip.show.minZoom]       minimal zoom level to show the tooltip\n * @param {number}               [tooltip.show.maxZoom]       maximum zoom level to show the tooltip\n * @param {Object}               tooltip.position             where to attach the tooltip\n * @param {number}               [tooltip.position.left]      relative to element bbox left attachment\n * @param {number}               [tooltip.position.top]       relative to element bbox top attachment\n * @param {number}               [tooltip.position.bottom]    relative to element bbox bottom attachment\n * @param {number}               [tooltip.position.right]     relative to element bbox right attachment\n * @param {number}               [tooltip.timeout=-1]\n *\n * @return {string}              id that may be used to reference the tooltip for update or removal\n */\nTooltips.prototype.add = function(tooltip) {\n\n  if (!tooltip.position) {\n    throw new Error('must specifiy tooltip position');\n  }\n\n  if (!tooltip.html) {\n    throw new Error('must specifiy tooltip html');\n  }\n\n  var id = this._ids.next();\n\n  tooltip = assign({}, this._tooltipDefaults, tooltip, {\n    id: id\n  });\n\n  this._addTooltip(tooltip);\n\n  if (tooltip.timeout) {\n    this.setTimeout(tooltip);\n  }\n\n  return id;\n};\n\nTooltips.prototype.trigger = function(action, event) {\n\n  var node = event.delegateTarget || event.target;\n\n  var tooltip = this.get(domAttr(node, 'data-tooltip-id'));\n\n  if (!tooltip) {\n    return;\n  }\n\n  if (action === 'mouseover' && tooltip.timeout) {\n    this.clearTimeout(tooltip);\n  }\n\n  if (action === 'mouseout' && tooltip.timeout) {\n\n    // cut timeout after mouse out\n    tooltip.timeout = 1000;\n\n    this.setTimeout(tooltip);\n  }\n};\n\n/**\n * Get a tooltip with the given id\n *\n * @param {string} id\n */\nTooltips.prototype.get = function(id) {\n\n  if (typeof id !== 'string') {\n    id = id.id;\n  }\n\n  return this._tooltips[id];\n};\n\nTooltips.prototype.clearTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  var removeTimer = tooltip.removeTimer;\n\n  if (removeTimer) {\n    clearTimeout(removeTimer);\n    tooltip.removeTimer = null;\n  }\n};\n\nTooltips.prototype.setTimeout = function(tooltip) {\n\n  tooltip = this.get(tooltip);\n\n  if (!tooltip) {\n    return;\n  }\n\n  this.clearTimeout(tooltip);\n\n  var self = this;\n\n  tooltip.removeTimer = setTimeout(function() {\n    self.remove(tooltip);\n  }, tooltip.timeout);\n};\n\n/**\n * Remove an tooltip with the given id\n *\n * @param {string} id\n */\nTooltips.prototype.remove = function(id) {\n\n  var tooltip = this.get(id);\n\n  if (tooltip) {\n    domRemove(tooltip.html);\n    domRemove(tooltip.htmlContainer);\n\n    delete tooltip.htmlContainer;\n\n    delete this._tooltips[tooltip.id];\n  }\n};\n\n\nTooltips.prototype.show = function() {\n  setVisible(this._tooltipRoot);\n};\n\n\nTooltips.prototype.hide = function() {\n  setVisible(this._tooltipRoot, false);\n};\n\n\nTooltips.prototype._updateRoot = function(viewbox) {\n  var a = viewbox.scale || 1;\n  var d = viewbox.scale || 1;\n\n  var matrix = 'matrix(' + a + ',0,0,' + d + ',' + (-1 * viewbox.x * a) + ',' + (-1 * viewbox.y * d) + ')';\n\n  this._tooltipRoot.style.transform = matrix;\n  this._tooltipRoot.style['-ms-transform'] = matrix;\n};\n\n\nTooltips.prototype._addTooltip = function(tooltip) {\n\n  var id = tooltip.id,\n      html = tooltip.html,\n      htmlContainer,\n      tooltipRoot = this._tooltipRoot;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // tooltip HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  htmlContainer = domify('<div data-tooltip-id=\"' + id + '\" class=\"' + tooltipClass + '\">');\n  assignStyle(htmlContainer, { position: 'absolute' });\n\n  htmlContainer.appendChild(html);\n\n  if (tooltip.type) {\n    domClasses(htmlContainer).add('djs-tooltip-' + tooltip.type);\n  }\n\n  if (tooltip.className) {\n    domClasses(htmlContainer).add(tooltip.className);\n  }\n\n  tooltip.htmlContainer = htmlContainer;\n\n  tooltipRoot.appendChild(htmlContainer);\n\n  this._tooltips[id] = tooltip;\n\n  this._updateTooltip(tooltip);\n};\n\n\nTooltips.prototype._updateTooltip = function(tooltip) {\n\n  var position = tooltip.position,\n      htmlContainer = tooltip.htmlContainer;\n\n  // update overlay html based on tooltip x, y\n\n  setPosition(htmlContainer, position.x, position.y);\n};\n\n\nTooltips.prototype._updateTooltipVisibilty = function(viewbox) {\n\n  forEach(this._tooltips, function(tooltip) {\n    var show = tooltip.show,\n        htmlContainer = tooltip.htmlContainer,\n        visible = true;\n\n    if (show) {\n      if (show.minZoom > viewbox.scale ||\n          show.maxZoom < viewbox.scale) {\n        visible = false;\n      }\n\n      setVisible(htmlContainer, visible);\n    }\n  });\n};\n\nTooltips.prototype._init = function() {\n\n  var self = this;\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateTooltipVisibilty(viewbox);\n\n    self.show();\n  }\n\n  this._eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  this._eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}