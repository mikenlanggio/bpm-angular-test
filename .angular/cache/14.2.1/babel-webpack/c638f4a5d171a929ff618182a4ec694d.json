{"ast":null,"code":"var abs = Math.abs,\n    round = Math.round;\n/**\n * Snap value to a collection of reference values.\n *\n * @param  {number} value\n * @param  {Array<number>} values\n * @param  {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\n\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\nexport function mid(bounds, defaultValue) {\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n/**\n * Retrieve the snap state of the given event.\n *\n * @param  {Event} event\n * @param  {string} axis\n *\n * @return {boolean} the snapped state\n *\n */\n\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {string} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\n\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n  var snapped = event.snapped = event.snapped || {};\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n    delta = value - previousValue;\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n/**\n * Get children of a shape.\n *\n * @param {djs.model.Shape} parent\n *\n * @returns {Array<djs.model.Shape|djs.model.Connection>}\n */\n\nexport function getChildren(parent) {\n  return parent.children || [];\n}","map":{"version":3,"names":["abs","Math","round","snapTo","value","values","tolerance","undefined","idx","snapValue","length","topLeft","bounds","x","y","topRight","width","bottomLeft","height","bottomRight","mid","defaultValue","isNaN","isSnapped","event","axis","snapped","setSnapped","Error","delta","previousValue","getChildren","parent","children"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/diagram-js/lib/features/snapping/SnapUtil.js"],"sourcesContent":["var abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param  {number} value\n * @param  {Array<number>} values\n * @param  {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param  {Event} event\n * @param  {string} axis\n *\n * @return {boolean} the snapped state\n *\n */\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {string} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {djs.model.Shape} parent\n *\n * @returns {Array<djs.model.Shape|djs.model.Connection>}\n */\nexport function getChildren(parent) {\n  return parent.children || [];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}