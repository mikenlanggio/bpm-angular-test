{"ast":null,"code":"/**\n * Returns the length of a vector\n *\n * @param {Vector}\n * @return {Float}\n */\nexport function vectorLength(v) {\n  return Math.sqrt(Math.pow(v.x, 2) + Math.pow(v.y, 2));\n}\n/**\n * Calculates the angle between a line a the yAxis\n *\n * @param {Array}\n * @return {Float}\n */\n\nexport function getAngle(line) {\n  // return value is between 0, 180 and -180, -0\n  // @janstuemmel: maybe replace return a/b with b/a\n  return Math.atan((line[1].y - line[0].y) / (line[1].x - line[0].x));\n}\n/**\n * Rotates a vector by a given angle\n *\n * @param {Vector}\n * @param {Float} Angle in radians\n * @return {Vector}\n */\n\nexport function rotateVector(vector, angle) {\n  return !angle ? vector : {\n    x: Math.cos(angle) * vector.x - Math.sin(angle) * vector.y,\n    y: Math.sin(angle) * vector.x + Math.cos(angle) * vector.y\n  };\n}\n/**\n * Solves a 2D equation system\n * a + r*b = c, where a,b,c are 2D vectors\n *\n * @param {Vector}\n * @param {Vector}\n * @param {Vector}\n * @return {Float}\n */\n\nfunction solveLambaSystem(a, b, c) {\n  // the 2d system\n  var system = [{\n    n: a[0] - c[0],\n    lambda: b[0]\n  }, {\n    n: a[1] - c[1],\n    lambda: b[1]\n  }]; // solve\n\n  var n = system[0].n * b[0] + system[1].n * b[1],\n      l = system[0].lambda * b[0] + system[1].lambda * b[1];\n  return -n / l;\n}\n/**\n * Position of perpendicular foot\n *\n * @param {Point}\n * @param [ {Point}, {Point} ] line defined through two points\n * @return {Point} the perpendicular foot position\n */\n\n\nexport function perpendicularFoot(point, line) {\n  var a = line[0],\n      b = line[1]; // relative position of b from a\n\n  var bd = {\n    x: b.x - a.x,\n    y: b.y - a.y\n  }; // solve equation system to the parametrized vectors param real value\n\n  var r = solveLambaSystem([a.x, a.y], [bd.x, bd.y], [point.x, point.y]);\n  return {\n    x: a.x + r * bd.x,\n    y: a.y + r * bd.y\n  };\n}\n/**\n * Calculates the distance between a point and a line\n *\n * @param {Point}\n * @param [ {Point}, {Point} ] line defined through two points\n * @return {Float} distance\n */\n\nexport function getDistancePointLine(point, line) {\n  var pfPoint = perpendicularFoot(point, line); // distance vector\n\n  var connectionVector = {\n    x: pfPoint.x - point.x,\n    y: pfPoint.y - point.y\n  };\n  return vectorLength(connectionVector);\n}\n/**\n * Calculates the distance between two points\n *\n * @param {Point}\n * @param {Point}\n * @return {Float} distance\n */\n\nexport function getDistancePointPoint(point1, point2) {\n  return vectorLength({\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  });\n}","map":{"version":3,"names":["vectorLength","v","Math","sqrt","pow","x","y","getAngle","line","atan","rotateVector","vector","angle","cos","sin","solveLambaSystem","a","b","c","system","n","lambda","l","perpendicularFoot","point","bd","r","getDistancePointLine","pfPoint","connectionVector","getDistancePointPoint","point1","point2"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/diagram-js/lib/features/bendpoints/GeometricUtil.js"],"sourcesContent":["\n/**\n * Returns the length of a vector\n *\n * @param {Vector}\n * @return {Float}\n */\nexport function vectorLength(v) {\n  return Math.sqrt(Math.pow(v.x, 2) + Math.pow(v.y, 2));\n}\n\n\n/**\n * Calculates the angle between a line a the yAxis\n *\n * @param {Array}\n * @return {Float}\n */\nexport function getAngle(line) {\n\n  // return value is between 0, 180 and -180, -0\n  // @janstuemmel: maybe replace return a/b with b/a\n  return Math.atan((line[1].y - line[0].y) / (line[1].x - line[0].x));\n}\n\n\n/**\n * Rotates a vector by a given angle\n *\n * @param {Vector}\n * @param {Float} Angle in radians\n * @return {Vector}\n */\nexport function rotateVector(vector, angle) {\n  return (!angle) ? vector : {\n    x: Math.cos(angle) * vector.x - Math.sin(angle) * vector.y,\n    y: Math.sin(angle) * vector.x + Math.cos(angle) * vector.y\n  };\n}\n\n\n/**\n * Solves a 2D equation system\n * a + r*b = c, where a,b,c are 2D vectors\n *\n * @param {Vector}\n * @param {Vector}\n * @param {Vector}\n * @return {Float}\n */\nfunction solveLambaSystem(a, b, c) {\n\n  // the 2d system\n  var system = [\n    { n: a[0] - c[0], lambda: b[0] },\n    { n: a[1] - c[1], lambda: b[1] }\n  ];\n\n  // solve\n  var n = system[0].n * b[0] + system[1].n * b[1],\n      l = system[0].lambda * b[0] + system[1].lambda * b[1];\n\n  return -n / l;\n}\n\n\n/**\n * Position of perpendicular foot\n *\n * @param {Point}\n * @param [ {Point}, {Point} ] line defined through two points\n * @return {Point} the perpendicular foot position\n */\nexport function perpendicularFoot(point, line) {\n\n  var a = line[0], b = line[1];\n\n  // relative position of b from a\n  var bd = { x: b.x - a.x, y: b.y - a.y };\n\n  // solve equation system to the parametrized vectors param real value\n  var r = solveLambaSystem([ a.x, a.y ], [ bd.x, bd.y ], [ point.x, point.y ]);\n\n  return { x: a.x + r * bd.x, y: a.y + r * bd.y };\n}\n\n\n/**\n * Calculates the distance between a point and a line\n *\n * @param {Point}\n * @param [ {Point}, {Point} ] line defined through two points\n * @return {Float} distance\n */\nexport function getDistancePointLine(point, line) {\n\n  var pfPoint = perpendicularFoot(point, line);\n\n  // distance vector\n  var connectionVector = {\n    x: pfPoint.x - point.x,\n    y: pfPoint.y - point.y\n  };\n\n  return vectorLength(connectionVector);\n}\n\n\n/**\n * Calculates the distance between two points\n *\n * @param {Point}\n * @param {Point}\n * @return {Float} distance\n */\nexport function getDistancePointPoint(point1, point2) {\n\n  return vectorLength({\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  });\n}"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,YAAT,CAAsBC,CAAtB,EAAyB;EAC9B,OAAOC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASH,CAAC,CAACI,CAAX,EAAc,CAAd,IAAmBH,IAAI,CAACE,GAAL,CAASH,CAAC,CAACK,CAAX,EAAc,CAAd,CAA7B,CAAP;AACD;AAGD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;EAE7B;EACA;EACA,OAAON,IAAI,CAACO,IAAL,CAAU,CAACD,IAAI,CAAC,CAAD,CAAJ,CAAQF,CAAR,GAAYE,IAAI,CAAC,CAAD,CAAJ,CAAQF,CAArB,KAA2BE,IAAI,CAAC,CAAD,CAAJ,CAAQH,CAAR,GAAYG,IAAI,CAAC,CAAD,CAAJ,CAAQH,CAA/C,CAAV,CAAP;AACD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqC;EAC1C,OAAQ,CAACA,KAAF,GAAWD,MAAX,GAAoB;IACzBN,CAAC,EAAEH,IAAI,CAACW,GAAL,CAASD,KAAT,IAAkBD,MAAM,CAACN,CAAzB,GAA6BH,IAAI,CAACY,GAAL,CAASF,KAAT,IAAkBD,MAAM,CAACL,CADhC;IAEzBA,CAAC,EAAEJ,IAAI,CAACY,GAAL,CAASF,KAAT,IAAkBD,MAAM,CAACN,CAAzB,GAA6BH,IAAI,CAACW,GAAL,CAASD,KAAT,IAAkBD,MAAM,CAACL;EAFhC,CAA3B;AAID;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASS,gBAAT,CAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,CAAhC,EAAmC;EAEjC;EACA,IAAIC,MAAM,GAAG,CACX;IAAEC,CAAC,EAAEJ,CAAC,CAAC,CAAD,CAAD,GAAOE,CAAC,CAAC,CAAD,CAAb;IAAkBG,MAAM,EAAEJ,CAAC,CAAC,CAAD;EAA3B,CADW,EAEX;IAAEG,CAAC,EAAEJ,CAAC,CAAC,CAAD,CAAD,GAAOE,CAAC,CAAC,CAAD,CAAb;IAAkBG,MAAM,EAAEJ,CAAC,CAAC,CAAD;EAA3B,CAFW,CAAb,CAHiC,CAQjC;;EACA,IAAIG,CAAC,GAAGD,MAAM,CAAC,CAAD,CAAN,CAAUC,CAAV,GAAcH,CAAC,CAAC,CAAD,CAAf,GAAqBE,MAAM,CAAC,CAAD,CAAN,CAAUC,CAAV,GAAcH,CAAC,CAAC,CAAD,CAA5C;EAAA,IACIK,CAAC,GAAGH,MAAM,CAAC,CAAD,CAAN,CAAUE,MAAV,GAAmBJ,CAAC,CAAC,CAAD,CAApB,GAA0BE,MAAM,CAAC,CAAD,CAAN,CAAUE,MAAV,GAAmBJ,CAAC,CAAC,CAAD,CADtD;EAGA,OAAO,CAACG,CAAD,GAAKE,CAAZ;AACD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASC,iBAAT,CAA2BC,KAA3B,EAAkChB,IAAlC,EAAwC;EAE7C,IAAIQ,CAAC,GAAGR,IAAI,CAAC,CAAD,CAAZ;EAAA,IAAiBS,CAAC,GAAGT,IAAI,CAAC,CAAD,CAAzB,CAF6C,CAI7C;;EACA,IAAIiB,EAAE,GAAG;IAAEpB,CAAC,EAAEY,CAAC,CAACZ,CAAF,GAAMW,CAAC,CAACX,CAAb;IAAgBC,CAAC,EAAEW,CAAC,CAACX,CAAF,GAAMU,CAAC,CAACV;EAA3B,CAAT,CAL6C,CAO7C;;EACA,IAAIoB,CAAC,GAAGX,gBAAgB,CAAC,CAAEC,CAAC,CAACX,CAAJ,EAAOW,CAAC,CAACV,CAAT,CAAD,EAAe,CAAEmB,EAAE,CAACpB,CAAL,EAAQoB,EAAE,CAACnB,CAAX,CAAf,EAA+B,CAAEkB,KAAK,CAACnB,CAAR,EAAWmB,KAAK,CAAClB,CAAjB,CAA/B,CAAxB;EAEA,OAAO;IAAED,CAAC,EAAEW,CAAC,CAACX,CAAF,GAAMqB,CAAC,GAAGD,EAAE,CAACpB,CAAlB;IAAqBC,CAAC,EAAEU,CAAC,CAACV,CAAF,GAAMoB,CAAC,GAAGD,EAAE,CAACnB;EAArC,CAAP;AACD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqB,oBAAT,CAA8BH,KAA9B,EAAqChB,IAArC,EAA2C;EAEhD,IAAIoB,OAAO,GAAGL,iBAAiB,CAACC,KAAD,EAAQhB,IAAR,CAA/B,CAFgD,CAIhD;;EACA,IAAIqB,gBAAgB,GAAG;IACrBxB,CAAC,EAAEuB,OAAO,CAACvB,CAAR,GAAYmB,KAAK,CAACnB,CADA;IAErBC,CAAC,EAAEsB,OAAO,CAACtB,CAAR,GAAYkB,KAAK,CAAClB;EAFA,CAAvB;EAKA,OAAON,YAAY,CAAC6B,gBAAD,CAAnB;AACD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,qBAAT,CAA+BC,MAA/B,EAAuCC,MAAvC,EAA+C;EAEpD,OAAOhC,YAAY,CAAC;IAClBK,CAAC,EAAE0B,MAAM,CAAC1B,CAAP,GAAW2B,MAAM,CAAC3B,CADH;IAElBC,CAAC,EAAEyB,MAAM,CAACzB,CAAP,GAAW0B,MAAM,CAAC1B;EAFH,CAAD,CAAnB;AAID"},"metadata":{},"sourceType":"module"}