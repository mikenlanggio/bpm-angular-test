{"ast":null,"code":"import { every, some } from 'min-dash';\nimport { getDi } from '../util/ModelUtil';\nimport { componentsToPath } from 'diagram-js/lib/util/RenderUtil'; // re-export getDi for compatibility\n\nexport { getDi };\nexport var black = 'hsl(225, 10%, 15%)'; // element utils //////////////////////\n\n/**\n * Checks if eventDefinition of the given element matches with semantic type.\n *\n * @return {boolean} true if element is of the given semantic type\n */\n\nexport function isTypedEvent(event, eventDefinitionType, filter) {\n  function matches(definition, filter) {\n    return every(filter, function (val, key) {\n      // we want a == conversion here, to be able to catch\n      // undefined == false and friends\n\n      /* jshint -W116 */\n      return definition[key] == val;\n    });\n  }\n\n  return some(event.eventDefinitions, function (definition) {\n    return definition.$type === eventDefinitionType && matches(event, filter);\n  });\n}\nexport function isThrowEvent(event) {\n  return event.$type === 'bpmn:IntermediateThrowEvent' || event.$type === 'bpmn:EndEvent';\n}\nexport function isCollection(element) {\n  var dataObject = element.dataObjectRef;\n  return element.isCollection || dataObject && dataObject.isCollection;\n}\nexport function getSemantic(element) {\n  return element.businessObject;\n} // color access //////////////////////\n\nexport function getFillColor(element, defaultColor) {\n  var di = getDi(element);\n  return di.get('color:background-color') || di.get('bioc:fill') || defaultColor || 'white';\n}\nexport function getStrokeColor(element, defaultColor) {\n  var di = getDi(element);\n  return di.get('color:border-color') || di.get('bioc:stroke') || defaultColor || black;\n}\nexport function getLabelColor(element, defaultColor, defaultStrokeColor) {\n  var di = getDi(element),\n      label = di.get('label');\n  return label && label.get('color:color') || defaultColor || getStrokeColor(element, defaultStrokeColor);\n} // cropping path customizations //////////////////////\n\nexport function getCirclePath(shape) {\n  var cx = shape.x + shape.width / 2,\n      cy = shape.y + shape.height / 2,\n      radius = shape.width / 2;\n  var circlePath = [['M', cx, cy], ['m', 0, -radius], ['a', radius, radius, 0, 1, 1, 0, 2 * radius], ['a', radius, radius, 0, 1, 1, 0, -2 * radius], ['z']];\n  return componentsToPath(circlePath);\n}\nexport function getRoundRectPath(shape, borderRadius) {\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n  var roundRectPath = [['M', x + borderRadius, y], ['l', width - borderRadius * 2, 0], ['a', borderRadius, borderRadius, 0, 0, 1, borderRadius, borderRadius], ['l', 0, height - borderRadius * 2], ['a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, borderRadius], ['l', borderRadius * 2 - width, 0], ['a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, -borderRadius], ['l', 0, borderRadius * 2 - height], ['a', borderRadius, borderRadius, 0, 0, 1, borderRadius, -borderRadius], ['z']];\n  return componentsToPath(roundRectPath);\n}\nexport function getDiamondPath(shape) {\n  var width = shape.width,\n      height = shape.height,\n      x = shape.x,\n      y = shape.y,\n      halfWidth = width / 2,\n      halfHeight = height / 2;\n  var diamondPath = [['M', x + halfWidth, y], ['l', halfWidth, halfHeight], ['l', -halfWidth, halfHeight], ['l', -halfWidth, -halfHeight], ['z']];\n  return componentsToPath(diamondPath);\n}\nexport function getRectPath(shape) {\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n  var rectPath = [['M', x, y], ['l', width, 0], ['l', 0, height], ['l', -width, 0], ['z']];\n  return componentsToPath(rectPath);\n}","map":{"version":3,"names":["every","some","getDi","componentsToPath","black","isTypedEvent","event","eventDefinitionType","filter","matches","definition","val","key","eventDefinitions","$type","isThrowEvent","isCollection","element","dataObject","dataObjectRef","getSemantic","businessObject","getFillColor","defaultColor","di","get","getStrokeColor","getLabelColor","defaultStrokeColor","label","getCirclePath","shape","cx","x","width","cy","y","height","radius","circlePath","getRoundRectPath","borderRadius","roundRectPath","getDiamondPath","halfWidth","halfHeight","diamondPath","getRectPath","rectPath"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/draw/BpmnRenderUtil.js"],"sourcesContent":["import {\n  every,\n  some\n} from 'min-dash';\n\nimport {\n  getDi\n} from '../util/ModelUtil';\n\nimport {\n  componentsToPath\n} from 'diagram-js/lib/util/RenderUtil';\n\n// re-export getDi for compatibility\nexport { getDi };\n\nexport var black = 'hsl(225, 10%, 15%)';\n\n// element utils //////////////////////\n\n/**\n * Checks if eventDefinition of the given element matches with semantic type.\n *\n * @return {boolean} true if element is of the given semantic type\n */\nexport function isTypedEvent(event, eventDefinitionType, filter) {\n\n  function matches(definition, filter) {\n    return every(filter, function(val, key) {\n\n      // we want a == conversion here, to be able to catch\n      // undefined == false and friends\n      /* jshint -W116 */\n      return definition[key] == val;\n    });\n  }\n\n  return some(event.eventDefinitions, function(definition) {\n    return definition.$type === eventDefinitionType && matches(event, filter);\n  });\n}\n\nexport function isThrowEvent(event) {\n  return (event.$type === 'bpmn:IntermediateThrowEvent') || (event.$type === 'bpmn:EndEvent');\n}\n\nexport function isCollection(element) {\n  var dataObject = element.dataObjectRef;\n\n  return element.isCollection || (dataObject && dataObject.isCollection);\n}\n\nexport function getSemantic(element) {\n  return element.businessObject;\n}\n\n\n// color access //////////////////////\n\nexport function getFillColor(element, defaultColor) {\n  var di = getDi(element);\n\n  return di.get('color:background-color') || di.get('bioc:fill') || defaultColor || 'white';\n}\n\nexport function getStrokeColor(element, defaultColor) {\n  var di = getDi(element);\n\n  return di.get('color:border-color') || di.get('bioc:stroke') || defaultColor || black;\n}\n\nexport function getLabelColor(element, defaultColor, defaultStrokeColor) {\n  var di = getDi(element),\n      label = di.get('label');\n\n  return label && label.get('color:color') || defaultColor ||\n    getStrokeColor(element, defaultStrokeColor);\n}\n\n// cropping path customizations //////////////////////\n\nexport function getCirclePath(shape) {\n\n  var cx = shape.x + shape.width / 2,\n      cy = shape.y + shape.height / 2,\n      radius = shape.width / 2;\n\n  var circlePath = [\n    [ 'M', cx, cy ],\n    [ 'm', 0, -radius ],\n    [ 'a', radius, radius, 0, 1, 1, 0, 2 * radius ],\n    [ 'a', radius, radius, 0, 1, 1, 0, -2 * radius ],\n    [ 'z' ]\n  ];\n\n  return componentsToPath(circlePath);\n}\n\nexport function getRoundRectPath(shape, borderRadius) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var roundRectPath = [\n    [ 'M', x + borderRadius, y ],\n    [ 'l', width - borderRadius * 2, 0 ],\n    [ 'a', borderRadius, borderRadius, 0, 0, 1, borderRadius, borderRadius ],\n    [ 'l', 0, height - borderRadius * 2 ],\n    [ 'a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, borderRadius ],\n    [ 'l', borderRadius * 2 - width, 0 ],\n    [ 'a', borderRadius, borderRadius, 0, 0, 1, -borderRadius, -borderRadius ],\n    [ 'l', 0, borderRadius * 2 - height ],\n    [ 'a', borderRadius, borderRadius, 0, 0, 1, borderRadius, -borderRadius ],\n    [ 'z' ]\n  ];\n\n  return componentsToPath(roundRectPath);\n}\n\nexport function getDiamondPath(shape) {\n\n  var width = shape.width,\n      height = shape.height,\n      x = shape.x,\n      y = shape.y,\n      halfWidth = width / 2,\n      halfHeight = height / 2;\n\n  var diamondPath = [\n    [ 'M', x + halfWidth, y ],\n    [ 'l', halfWidth, halfHeight ],\n    [ 'l', -halfWidth, halfHeight ],\n    [ 'l', -halfWidth, -halfHeight ],\n    [ 'z' ]\n  ];\n\n  return componentsToPath(diamondPath);\n}\n\nexport function getRectPath(shape) {\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var rectPath = [\n    [ 'M', x, y ],\n    [ 'l', width, 0 ],\n    [ 'l', 0, height ],\n    [ 'l', -width, 0 ],\n    [ 'z' ]\n  ];\n\n  return componentsToPath(rectPath);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}