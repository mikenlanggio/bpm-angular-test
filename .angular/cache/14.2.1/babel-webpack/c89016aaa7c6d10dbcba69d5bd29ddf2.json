{"ast":null,"code":"import inherits from 'inherits-browser';\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\nimport { getBusinessObject, getDi } from '../../../util/ModelUtil';\nimport { isAny } from '../util/ModelingUtil';\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\n\nexport default function IsHorizontalFix(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n  var elementTypesToUpdate = ['bpmn:Participant', 'bpmn:Lane'];\n  this.executed(['shape.move', 'shape.create', 'shape.resize'], function (event) {\n    var shape = event.context.shape,\n        bo = getBusinessObject(shape),\n        di = getDi(shape);\n\n    if (isAny(bo, elementTypesToUpdate) && !di.get('isHorizontal')) {\n      // set attribute directly to avoid modeling#updateProperty side effects\n      di.set('isHorizontal', true);\n    }\n  });\n}\nIsHorizontalFix.$inject = ['eventBus'];\ninherits(IsHorizontalFix, CommandInterceptor);","map":{"version":3,"names":["inherits","CommandInterceptor","getBusinessObject","getDi","isAny","IsHorizontalFix","eventBus","call","elementTypesToUpdate","executed","event","shape","context","bo","di","get","set","$inject"],"sources":["E:/Old_PC/Study/Angular/test-bpm/node_modules/bpmn-js/lib/features/modeling/behavior/IsHorizontalFix.js"],"sourcesContent":["import inherits from 'inherits-browser';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  getDi\n} from '../../../util/ModelUtil';\n\nimport {\n  isAny\n} from '../util/ModelingUtil';\n\n/**\n * A component that makes sure that each created or updated\n * Pool and Lane is assigned an isHorizontal property set to true.\n *\n * @param {EventBus} eventBus\n */\nexport default function IsHorizontalFix(eventBus) {\n\n  CommandInterceptor.call(this, eventBus);\n\n  var elementTypesToUpdate = [\n    'bpmn:Participant',\n    'bpmn:Lane'\n  ];\n\n  this.executed([ 'shape.move', 'shape.create', 'shape.resize' ], function(event) {\n    var shape = event.context.shape,\n        bo = getBusinessObject(shape),\n        di = getDi(shape);\n\n    if (isAny(bo, elementTypesToUpdate) && !di.get('isHorizontal')) {\n\n      // set attribute directly to avoid modeling#updateProperty side effects\n      di.set('isHorizontal', true);\n    }\n  });\n\n}\n\nIsHorizontalFix.$inject = [ 'eventBus' ];\n\ninherits(IsHorizontalFix, CommandInterceptor);\n"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AAEA,OAAOC,kBAAP,MAA+B,2CAA/B;AAEA,SACEC,iBADF,EAEEC,KAFF,QAGO,yBAHP;AAKA,SACEC,KADF,QAEO,sBAFP;AAIA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;EAEhDL,kBAAkB,CAACM,IAAnB,CAAwB,IAAxB,EAA8BD,QAA9B;EAEA,IAAIE,oBAAoB,GAAG,CACzB,kBADyB,EAEzB,WAFyB,CAA3B;EAKA,KAAKC,QAAL,CAAc,CAAE,YAAF,EAAgB,cAAhB,EAAgC,cAAhC,CAAd,EAAgE,UAASC,KAAT,EAAgB;IAC9E,IAAIC,KAAK,GAAGD,KAAK,CAACE,OAAN,CAAcD,KAA1B;IAAA,IACIE,EAAE,GAAGX,iBAAiB,CAACS,KAAD,CAD1B;IAAA,IAEIG,EAAE,GAAGX,KAAK,CAACQ,KAAD,CAFd;;IAIA,IAAIP,KAAK,CAACS,EAAD,EAAKL,oBAAL,CAAL,IAAmC,CAACM,EAAE,CAACC,GAAH,CAAO,cAAP,CAAxC,EAAgE;MAE9D;MACAD,EAAE,CAACE,GAAH,CAAO,cAAP,EAAuB,IAAvB;IACD;EACF,CAVD;AAYD;AAEDX,eAAe,CAACY,OAAhB,GAA0B,CAAE,UAAF,CAA1B;AAEAjB,QAAQ,CAACK,eAAD,EAAkBJ,kBAAlB,CAAR"},"metadata":{},"sourceType":"module"}